<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Happy Birthday, My Devil | Kazuya Mishima Tribute</title>
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Black+Ops+One&family=Orbitron:wght@400;700&family=Roboto:wght@300;400;600&display=swap"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <style>
      body {
        margin: 0;
        padding: 0;
        font-family: "Roboto", sans-serif;
        color: #e0e0e0;
        overflow-x: hidden;
        scroll-behavior: smooth;
        background-color: #0a0a12;
      }

      .main-container {
        width: 100%;
      }

      .section {
        min-height: 100vh;
        width: 100%;
        padding: 40px 20px;
        position: relative;
        overflow: hidden;
      }

      .cover-section {
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        text-align: center;
        background: linear-gradient(135deg, #0a0a12 0%, #1a1a2e 100%);
        position: relative;
      }

      .cover-section::after {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-image: url("kazuya side pic.png");
        background-size: auto 100%;
        background-position: right center;
        background-repeat: no-repeat;
        transform: scaleX(-1);
        z-index: 0;
      }

      .cover-section::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(10, 10, 18, 0.7);
        z-index: 1;
      }

      .cover-content {
        z-index: 2;
      }

      .birthday-message {
        animation: fadeIn 1.5s ease-out;
        margin-top: 10vh;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      h1,
      h2 {
        font-family: "Black Ops One", cursive;
        color: #7d5fff;
        margin: 0;
        line-height: 1.2;
        text-shadow: 0 0 10px rgba(125, 95, 255, 0.7);
      }

      .cover-section h1 {
        font-size: 4.5rem;
        margin-bottom: 0;
        letter-spacing: 2px;
      }

      .cover-section h2 {
        font-size: 3.5rem;
        margin-top: 0;
        letter-spacing: 1px;
      }

      .subtitle {
        font-size: 1.5rem;
        margin-top: 25px;
        color: #aaa;
        font-weight: 300;
        font-family: "Orbitron", sans-serif;
      }

      .scroll-prompt {
        margin-bottom: 10vh;
        animation: fadeIn 1s ease-out 0.5s both;
      }

      .scroll-prompt p {
        font-size: 1.1rem;
        color: #777;
        margin-bottom: 15px;
        font-weight: 300;
      }

      .show-me-btn {
        background-color: #c1121f;
        color: white;
        border: none;
        padding: 12px 30px;
        border-radius: 50px;
        font-size: 1.1rem;
        cursor: pointer;
        font-family: "Orbitron", sans-serif;
        font-weight: 400;
        display: inline-flex;
        align-items: center;
        gap: 10px;
        transition: all 0.3s ease;
        box-shadow: 0 0 15px rgba(193, 18, 31, 0.5);
        letter-spacing: 1px;
      }

      .show-me-btn:hover {
        background-color: #9d0208;
        transform: translateY(-3px);
        box-shadow: 0 0 20px rgba(193, 18, 31, 0.8);
      }

      .show-me-btn i {
        transition: transform 0.3s ease;
      }

      .show-me-btn:hover i {
        transform: translateY(3px);
      }

      .floating-energy {
        position: absolute;
        width: 100%;
        height: 100%;
        top: 0;
        left: 0;
        pointer-events: none;
        z-index: 1;
      }

      .energy {
        position: absolute;
        color: rgba(125, 95, 255, 0.6);
        animation: float linear infinite;
        font-size: 1.5rem;
      }

      @keyframes float {
        0% {
          transform: translateY(100vh) rotate(0deg);
          opacity: 0;
        }
        10% {
          opacity: 0.6;
        }
        90% {
          opacity: 0.6;
        }
        100% {
          transform: translateY(-100px) rotate(360deg);
          opacity: 0;
        }
      }

      .page-nav {
        position: fixed;
        right: 20px;
        top: 50%;
        transform: translateY(-50%);
        display: flex;
        flex-direction: column;
        gap: 15px;
        z-index: 99;
      }

      .nav-link {
        width: 50px;
        height: 50px;
        border-radius: 50%;
        background-color: #1a1a2e;
        color: #7d5fff;
        display: flex;
        justify-content: center;
        align-items: center;
        text-decoration: none;
        box-shadow: 0 0 10px rgba(125, 95, 255, 0.5);
        transition: all 0.3s ease;
        font-size: 1.2rem;
        border: 1px solid #2a2a3e;
      }

      .nav-link:hover {
        background-color: #7d5fff;
        color: #111;
        transform: scale(1.1);
        box-shadow: 0 0 15px rgba(125, 95, 255, 0.8);
      }

      .nav-link.active {
        background-color: #7d5fff;
        color: #111;
        box-shadow: 0 0 15px rgba(125, 95, 255, 0.8);
      }

      .letters-section {
        background-color: #0a0a12;
        display: flex;
        flex-direction: column;
        justify-content: center;
        padding: 40px 0;
        position: relative;
        min-height: 100vh;
        overflow: hidden;
      }

      .letters-section::before {
        content: "";
        position: absolute;
        bottom: 0;
        left: 0;
        width: 100%;
        height: 70vh;
        background-image: url("kazuya 2nd pic.png");
        background-size: auto 100%;
        background-position: left bottom;
        background-repeat: no-repeat;
        z-index: 0;
        opacity: 0.5;
      }

      .letters-section::after {
        content: "";
        position: absolute;
        top: 0;
        right: 0;
        width: 100%;
        height: 50vh;
        background-image: url("virgil 3.png");
        background-size: auto 100%;
        background-position: right top;
        background-repeat: no-repeat;
        z-index: 0;
        opacity: 0.5;
      }

      .letters-overlay {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(10, 10, 18, 0.7);
        z-index: 1;
      }

      .section-title {
        font-family: "Black Ops One", cursive;
        font-size: 3rem;
        color: #7d5fff;
        text-align: center;
        margin-bottom: 40px;
        position: relative;
        z-index: 2;
        text-shadow: 0 0 10px rgba(125, 95, 255, 0.7);
        letter-spacing: 2px;
      }

      .envelopes-container {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 20px;
        width: 90%;
        max-width: 1200px;
        margin: 0 auto;
        padding: 20px;
        position: relative;
        z-index: 2;
      }

      .envelope {
        position: relative;
        cursor: pointer;
        height: 150px;
      }

      .envelope-front {
        background: #1a1a2e;
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0 0 15px rgba(125, 95, 255, 0.3);
        display: flex;
        align-items: center;
        gap: 15px;
        font-weight: 600;
        color: #7d5fff;
        transition: all 0.3s;
        border-left: 5px solid #c1121f;
        height: 100%;
        box-sizing: border-box;
        font-family: "Orbitron", sans-serif;
      }

      .envelope-front i {
        font-size: 1.5rem;
        color: #7d5fff;
      }

      .letter {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        background-color: #1a1a2e;
        padding: 30px;
        border-radius: 8px;
        box-shadow: 0 0 30px rgba(125, 95, 255, 0.5);
        transform: rotateX(90deg);
        transform-origin: top;
        transition: transform 0.5s;
        z-index: 10;
        display: none;
        border-top: 5px solid #c1121f;
        height: auto;
        min-height: 150px;
        max-height: 400px;
        overflow-y: auto;
        box-sizing: border-box;
        color: #e0e0e0;
      }

      .letter.open {
        display: block;
        transform: rotateX(0deg);
        z-index: 100;
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%) rotateX(0deg);
        width: 80%;
        max-width: 600px;
        max-height: 80vh;
      }

      .letter-content {
        padding: 10px;
      }

      .letter p {
        margin: 15px 0;
        line-height: 1.6;
        font-size: 1rem;
      }

      .letter button {
        margin-top: 15px;
        background-color: #c1121f;
        color: white;
        border: none;
        padding: 10px 20px;
        border-radius: 5px;
        cursor: pointer;
        font-family: "Orbitron", sans-serif;
        display: flex;
        align-items: center;
        gap: 8px;
        transition: background-color 0.3s;
        font-size: 1rem;
        letter-spacing: 1px;
      }

      .letter button:hover {
        background-color: #9d0208;
      }

      .letter-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.5);
        z-index: 99;
        display: none;
      }

      .playlist-section {
        background: linear-gradient(135deg, #0a0a12 0%, #1a1a2e 100%);
        display: flex;
        flex-direction: column;
        justify-content: center;
        position: relative;
        overflow: hidden;
        padding: 60px 20px;
        background-image: url("virgil 4.png");
        background-size: cover;
        background-attachment: fixed;
      }

      .playlist-section::before {
        content: "";
        position: absolute;
        bottom: 0;
        left: 0;
        width: 100%;
        height: 70vh;
        background-image: url("dante 1.png");
        background-size: auto 100%;
        background-position: left bottom;
        background-repeat: no-repeat;
        z-index: 0;
        opacity: 0.5;
      }

      .playlist-section::after {
        content: "";
        position: absolute;
        bottom: 0;
        right: 0;
        width: 100%;
        height: 50vh;
        background-image: url("virgil 1.png");
        background-size: auto 100%;
        background-position: right bottom;
        background-repeat: no-repeat;
        z-index: 0;
        opacity: 0.5;
      }
      .playlist-content {
        display: flex;
        flex-direction: column;
        align-items: center;
        width: 90%;
        max-width: 1200px;
        margin: 0 auto;
        position: relative;
        z-index: 2;
        gap: 40px;
        height: 100%;
        justify-content: center;
      }

      .playlist-container {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        align-items: center;
        gap: 40px;
        width: 100%;
        margin-top: 20px;
      }

      .playlist-text {
        flex: 1;
        min-width: 300px;
        max-width: 500px;
        color: #aaa;
        padding: 20px;
        background: rgba(26, 26, 46, 0.8);
        border-radius: 12px;
        box-shadow: 0 0 15px rgba(125, 95, 255, 0.3);
        border: 1px solid #2a2a3e;
      }

      .playlist-text h3 {
        color: #7d5fff;
        font-family: "Black Ops One", cursive;
        font-size: 1.8rem;
        margin-top: 0;
      }

      .spotify-embed {
        flex: 1;
        min-width: 300px;
        max-width: 500px;
        border-radius: 12px;
        overflow: hidden;
        box-shadow: 0 0 20px rgba(125, 95, 255, 0.5);
        position: relative;
        z-index: 1;
        height: 380px;
        border: 1px solid #2a2a3e;
      }

      .spotify-embed iframe {
        width: 100%;
        height: 380px;
        border: none;
      }

      .floating-music {
        position: absolute;
        width: 100%;
        height: 100%;
        top: 0;
        left: 0;
        pointer-events: none;
        z-index: 1;
      }

      .music-note {
        position: absolute;
        color: rgba(125, 95, 255, 0.4);
        animation: floatMusic linear infinite;
        font-size: 1.5rem;
      }

      @keyframes floatMusic {
        0% {
          transform: translateY(100vh) rotate(0deg);
          opacity: 0;
        }
        10% {
          opacity: 0.6;
        }
        90% {
          opacity: 0.6;
        }
        100% {
          transform: translateY(-100px) rotate(360deg);
          opacity: 0;
        }
      }

      .song-list {
        margin-top: 30px;
        background: #1a1a2e;
        padding: 20px;
        border-radius: 10px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
        border: 1px solid #2a2a3e;
      }

      .song-list h4 {
        color: #7d5fff;
        margin-bottom: 15px;
        font-family: "Orbitron", sans-serif;
      }

      .song-list ul {
        list-style: none;
        padding: 0;
        columns: 2;
        column-gap: 30px;
      }

      .song-list li {
        padding: 8px 0;
        border-bottom: 1px dashed #2a2a3e;
        display: flex;
        align-items: center;
        gap: 10px;
        font-size: 0.95rem;
      }

      .song-list li:last-child {
        border-bottom: none;
      }

      .song-list li i {
        color: #7d5fff;
        font-size: 0.8rem;
      }

      .friends-section {
        background: linear-gradient(135deg, #0a0a12 0%, #1a1a2e 100%);
        display: flex;
        flex-direction: column;
        justify-content: center;
        background-image: url("");
        background-size: cover;
        background-attachment: fixed;
      }

      .friends-section::before {
        content: "";
        position: absolute;
        bottom: 0;
        left: 0;
        width: 100%;
        height: 70vh;
        background-image: url("sparda.png");
        background-size: auto 100%;
        background-position: left bottom;
        background-repeat: no-repeat;
        z-index: 0;
        opacity: 0.5;
      }

      .friends-section::after {
        content: "";
        position: absolute;
        bottom: 0;
        right: 0;
        width: 100%;
        height: 50vh;
        background-image: url("kazuya white.png");
        background-size: auto 80%;
        background-position: right bottom;
        background-repeat: no-repeat;
        z-index: 0;
        opacity: 0.5;
      }
      .message-board {
        width: 90%;
        max-width: 900px;
        margin: 0 auto;
        background-color: #1a1a2e;
        border-radius: 15px;
        padding: 30px;
        box-shadow: 0 0 20px rgba(125, 95, 255, 0.3);
        position: relative;
        z-index: 2;
        border: 1px solid #2a2a3e;
      }

      .board-title {
        text-align: center;
        margin-bottom: 30px;
        color: #7d5fff;
        font-family: "Black Ops One", cursive;
        font-size: 2.5rem;
        text-shadow: 0 0 10px rgba(125, 95, 255, 0.7);
        letter-spacing: 2px;
      }

      .board-subtitle {
        text-align: center;
        margin-bottom: 30px;
        color: #aaa;
        font-size: 1.1rem;
        font-family: "Orbitron", sans-serif;
      }

      .messages-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
        gap: 20px;
        margin-top: 20px;
      }

      .message-item {
        transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        transform-origin: center;
        overflow: hidden;
        position: relative;
      }

      .message-item:hover {
        transform: scale(1.08);
        box-shadow: 0 10px 30px rgba(125, 95, 255, 0.6) !important;
        z-index: 10;
      }

      .message-image-container {
        overflow: hidden;
      }

      .message-screenshot {
        transition: transform 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        width: 100%;
        height: auto;
        display: block;
      }

      .message-item:hover .message-screenshot {
        transform: scale(1.15);
      }

      .message-info {
        transition: all 0.4s ease;
        background-color: rgba(26, 26, 46, 0.85) !important;
        position: relative;
        z-index: 2;
      }

      .message-item:hover .message-info {
        background-color: rgba(50, 50, 80, 0.95) !important;
        transform: translateY(-5px);
      }

      .message-from {
        font-weight: 600;
        color: #7d5fff;
        margin-bottom: 5px;
        font-family: "Orbitron", sans-serif;
      }

      .message-preview {
        font-size: 0.9rem;
        color: #aaa;
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        overflow: hidden;
      }

      .message-modal {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.9);
        z-index: 1000;
        justify-content: center;
        align-items: center;
        padding: 20px;
        box-sizing: border-box;
      }
      .message-modal-content {
        background-color: #1a1a2e;
        border-radius: 10px;
        max-width: 600px;
        width: 90%;
        padding: 20px;
      }

      .message-modal-image {
        width: 100%;
        max-height: 50vh;
        object-fit: contain;
        border-bottom: 1px solid #2a2a3e;
      }

      .message-modal-text {
        padding: 25px;
        line-height: 1.8;
        font-size: 1.1rem;
      }

      .message-modal-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 15px 25px;
        background-color: #2a2a3e;
        border-bottom: 1px solid #7d5fff;
      }

      .message-modal-from {
        font-family: "Orbitron", sans-serif;
        color: #7d5fff;
        font-size: 1.5rem;
        margin: 0;
      }

      .close-message-modal {
        color: #aaa;
        font-size: 2rem;
        cursor: pointer;
        transition: color 0.3s;
      }

      .close-message-modal:hover {
        color: #7d5fff;
      }

      /* Update existing message styles */
      .message-info {
        padding: 20px;
        background-color: rgba(26, 26, 46, 0.9);
      }

      .message-preview {
        margin-top: 10px;
        line-height: 1.6;
        font-size: 0.95rem;
        color: #ccc;
      }
      .image-modal {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.9);
        z-index: 1000;
        justify-content: center;
        align-items: center;
      }

      .image-modal-content {
        max-width: 90%;
        max-height: 90%;
      }

      .image-modal-content img {
        width: 100%;
        height: auto;
        max-height: 80vh;
        object-fit: contain;
      }

      .close-modal {
        position: absolute;
        top: 20px;
        right: 30px;
        color: white;
        font-size: 40px;
        font-weight: bold;
        cursor: pointer;
        text-shadow: 0 0 5px #7d5fff;
      }

      .music-control-container {
        position: fixed;
        bottom: 20px;
        right: 20px;
        display: flex;
        align-items: center;
        gap: 10px;
        z-index: 100;
      }

      .music-control {
        width: 50px;
        height: 50px;
        border-radius: 50%;
        background-color: #7d5fff;
        color: white;
        display: flex;
        justify-content: center;
        align-items: center;
        cursor: pointer;
        box-shadow: 0 0 15px rgba(125, 95, 255, 0.5);
        transition: all 0.3s;
        border: 1px solid #2a2a3e;
      }

      .music-control:hover {
        background-color: #9370db;
        transform: scale(1.1);
      }

      .music-control i {
        font-size: 1.2rem;
      }

      .volume-container {
        background: #1a1a2e;
        padding: 10px 15px;
        border-radius: 25px;
        box-shadow: 0 0 15px rgba(0, 0, 0, 0.3);
        display: flex;
        align-items: center;
        gap: 8px;
        height: 30px;
        opacity: 0;
        transition: opacity 0.3s;
        pointer-events: none;
        border: 1px solid #2a2a3e;
      }

      .music-control-container:hover .volume-container {
        opacity: 1;
        pointer-events: all;
      }

      .volume-slider {
        -webkit-appearance: none;
        width: 80px;
        height: 5px;
        border-radius: 5px;
        background: #2a2a3e;
        outline: none;
      }

      .volume-slider::-webkit-slider-thumb {
        -webkit-appearance: none;
        appearance: none;
        width: 15px;
        height: 15px;
        border-radius: 50%;
        background: #7d5fff;
        cursor: pointer;
        transition: all 0.2s;
      }

      .volume-slider::-webkit-slider-thumb:hover {
        background: #9370db;
        transform: scale(1.1);
      }

      .volume-slider::-moz-range-thumb {
        width: 15px;
        height: 15px;
        border-radius: 50%;
        background: #7d5fff;
        cursor: pointer;
      }

      .divider {
        height: 2px;
        background: linear-gradient(90deg, transparent, #7d5fff, transparent);
        margin: 30px 0;
        position: relative;
      }

      .divider::before {
        content: "";
        position: absolute;
        top: -5px;
        left: 50%;
        transform: translateX(-50%);
        width: 10px;
        height: 10px;
        background: #7d5fff;
        border-radius: 50%;
      }

      /* Responsive Design */
      @media (max-width: 1024px) {
        .envelopes-container {
          grid-template-columns: repeat(3, 1fr);
        }
      }

      @media (max-width: 768px) {
        .cover-section h1 {
          font-size: 3.5rem;
        }

        .cover-section h2 {
          font-size: 2.8rem;
        }

        .subtitle {
          font-size: 1.3rem;
        }

        .show-me-btn {
          padding: 10px 25px;
          font-size: 1rem;
        }

        .section-title {
          font-size: 2.5rem;
        }

        .page-nav {
          right: 10px;
        }

        .nav-link {
          width: 40px;
          height: 40px;
          font-size: 1rem;
        }

        .spotify-embed iframe {
          height: 300px;
        }

        .song-list ul {
          columns: 1;
        }

        .messages-grid {
          grid-template-columns: 1fr;
        }

        .envelopes-container {
          grid-template-columns: repeat(2, 1fr);
        }

        .letter.open {
          width: 90%;
        }

        .volume-container {
          right: auto;
          left: 20px;
          bottom: 60px;
        }
      }

      @media (max-width: 480px) {
        .cover-section h1 {
          font-size: 2.8rem;
        }

        .cover-section h2 {
          font-size: 2.2rem;
        }

        .subtitle {
          font-size: 1.1rem;
        }

        .scroll-prompt p {
          font-size: 1rem;
        }

        .section {
          padding: 60px 15px;
        }

        .message-board {
          padding: 20px 15px;
        }

        .board-title {
          font-size: 2rem;
        }

        .envelopes-container {
          grid-template-columns: 1fr;
        }

        .envelope {
          height: auto;
        }

        .volume-slider {
          width: 80px;
        }
      }
    </style>
  </head>
  <body>
    <!-- Hidden audio element for background music -->
    <audio id="bgMusic" loop>
      <source
        src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3"
        type="audio/mpeg"
      />
      Your browser does not support the audio element.
    </audio>
    <!-- Music control button with volume slider -->
    <div class="music-control-container">
      <div class="volume-container">
        <i class="fas fa-volume-down"></i>
        <input
          type="range"
          min="0"
          max="1"
          step="0.01"
          value="0.3"
          class="volume-slider"
          id="volumeSlider"
        />
        <i class="fas fa-volume-up"></i>
      </div>
      <div class="music-control" id="musicControl">
        <i class="fas fa-music"></i>
      </div>
    </div>

    <!-- Image modal for zooming messages -->
    <div class="image-modal" id="imageModal">
      <span class="close-modal">&times;</span>
      <div class="image-modal-content">
        <img id="zoomedImage" src="" alt="Zoomed message" />
      </div>
    </div>

    <div class="main-container">
      <!-- Cover Section -->
      <section class="section cover-section" id="cover">
        <div class="cover-content">
          <div class="birthday-message">
            <h1>HAPPY BIRTHDAY</h1>
            <h2>MY LOVE</h2>
            <p class="subtitle">I've made something special for you.</p>
          </div>
          <div class="scroll-prompt">
            <p>scroll down to begin</p>
            <button class="show-me-btn">
              Show Me
              <i class="fas fa-chevron-down"></i>
            </button>
          </div>
        </div>
        <div class="floating-energy">
          <!-- Energy effects will be added by JavaScript -->
        </div>
      </section>

      <!-- Letters Section -->
      <section class="section letters-section" id="letters">
        <div class="letters-overlay"></div>
        <h1 class="section-title">OPEN WHEN LETTERS</h1>
        <div class="envelopes-container">
          <!-- Letter 1 -->
          <div class="envelope">
            <div class="envelope-front">
              <i class="fas fa-heart-broken"></i>
              <span>Open when you miss me</span>
            </div>
            <div class="letter" id="letter1">
              <div class="letter-content">
                <p>
                  I miss you too — probably more than you know. Even though we
                  haven't met yet, you're already a big part of my world. Close
                  your eyes, take a deep breath, and imagine me right there,
                  hugging you tight. One day, we won’t need letters like this —
                  we’ll be together for real.
                </p>
              </div>
              <button onclick="closeLetter('letter1')">
                <i class="fas fa-times"></i> CLOSE
              </button>
            </div>
          </div>

          <!-- Letter 2 -->
          <div class="envelope">
            <div class="envelope-front">
              <i class="fas fa-sad-tear"></i>
              <span>Open when you're sad</span>
            </div>
            <div class="letter" id="letter2">
              <div class="letter-content">
                <p>
                  It’s okay to feel down sometimes. Life hits hard, and emotions
                  get heavy. But you're not alone — I may be far away, but my
                  heart is with you. Cry if you need to. Then remember, I’m
                  always rooting for you, and better days are coming. You’re
                  stronger than you think, and I believe in you endlessly.
                </p>
              </div>
              <button onclick="closeLetter('letter2')">
                <i class="fas fa-times"></i> CLOSE
              </button>
            </div>
          </div>

          <!-- Letter 3 -->
          <div class="envelope">
            <div class="envelope-front">
              <i class="fas fa-moon"></i>
              <span>Open when you can't sleep</span>
            </div>
            <div class="letter" id="letter3">
              <div class="letter-content">
                <p>
                  Can’t sleep? Me neither, probably. Think of all the nights
                  we’ll spend talking until we fall asleep next to each other.
                  Until then, count stars instead of sheep and know that
                  somewhere, I’m thinking of you too. I wish I could send you
                  warm arms and sleepy kisses.
                </p>
              </div>
              <button onclick="closeLetter('letter3')">
                <i class="fas fa-times"></i> CLOSE
              </button>
            </div>
          </div>

          <!-- Letter 4 -->
          <div class="envelope">
            <div class="envelope-front">
              <i class="fas fa-grin-stars"></i>
              <span>Open when you're happy</span>
            </div>
            <div class="letter" id="letter4">
              <div class="letter-content">
                <p>
                  Share it with me — your joy, your smile, that little victory
                  or good news. I want to know it all. I might not be there to
                  hug you or celebrate in person, but my heart is dancing with
                  yours. You deserve every moment of happiness, and I hope
                  there’s so much more to come.
                </p>
              </div>
              <button onclick="closeLetter('letter4')">
                <i class="fas fa-times"></i> CLOSE
              </button>
            </div>
          </div>

          <!-- Letter 5 -->
          <div class="envelope">
            <div class="envelope-front">
              <i class="fas fa-angry"></i>
              <span>Open when you're angry</span>
            </div>
            <div class="letter" id="letter5">
              <div class="letter-content">
                <p>
                  Breathe. It’s okay to be mad — at life, at people, maybe even
                  at me. Just promise you’ll talk to me before you let it eat
                  you up. I’m here to listen, not to judge. Let’s get through
                  even the tough moments, hand in hand, until it becomes a real
                  one someday.
                </p>
              </div>
              <button onclick="closeLetter('letter5')">
                <i class="fas fa-times"></i> CLOSE
              </button>
            </div>
          </div>

          <!-- Letter 6 -->
          <div class="envelope">
            <div class="envelope-front">
              <i class="fas fa-brain"></i>
              <span>Open when you're stressed</span>
            </div>
            <div class="letter" id="letter6">
              <div class="letter-content">
                <p>
                  Stop. Stretch. Breathe. One thing at a time. You don’t have to
                  do it all alone. I’m cheering for you from afar. Remember,
                  you’re not defined by pressure — you're defined by how
                  beautifully you carry yourself through it. I’m proud of you.
                </p>
              </div>
              <button onclick="closeLetter('letter6')">
                <i class="fas fa-times"></i> CLOSE
              </button>
            </div>
          </div>

          <!-- Letter 7 -->
          <div class="envelope">
            <div class="envelope-front">
              <i class="fas fa-head-side-cough"></i>
              <span>Open when you're sick</span>
            </div>
            <div class="letter" id="letter7">
              <div class="letter-content">
                <p>
                  I wish I could bring you soup and tuck you in. Instead, here’s
                  a virtual blanket, a forehead kiss, and a gentle whisper:
                  rest, baby. Your health matters more than anything. Please
                  take care of yourself like I would if I were there.
                </p>
              </div>
              <button onclick="closeLetter('letter7')">
                <i class="fas fa-times"></i> CLOSE
              </button>
            </div>
          </div>

          <!-- Letter 8 -->
          <div class="envelope">
            <div class="envelope-front">
              <i class="fas fa-user-alt"></i>
              <span>Open when you feel lonely</span>
            </div>
            <div class="letter" id="letter8">
              <div class="letter-content">
                <p>
                  Being apart sucks, and some days feel harder than others. But
                  even if I’m not in your room, I'm always with you in spirit.
                  You are so loved. I’m here, still yours, still waiting, still
                  believing in us. We're a team — even across miles.
                </p>
              </div>
              <button onclick="closeLetter('letter8')">
                <i class="fas fa-times"></i> CLOSE
              </button>
            </div>
          </div>

          <!-- Letter 9 -->
          <div class="envelope">
            <div class="envelope-front">
              <i class="fas fa-heart"></i>
              <span>Open when it's our anniversary</span>
            </div>
            <div class="letter" id="letter9">
              <div class="letter-content">
                <p>
                  Happy us day. Another milestone in a love story that's still
                  growing. We've proven that connection isn't defined by
                  physical presence but by hearts that choose each other every
                  single day. I can’t wait to celebrate this day in person
                  someday. Until then, thank you for being mine.
                </p>
              </div>
              <button onclick="closeLetter('letter9')">
                <i class="fas fa-times"></i> CLOSE
              </button>
            </div>
          </div>

          <!-- Letter 10 -->
          <div class="envelope">
            <div class="envelope-front">
              <i class="fas fa-brain"></i>
              <span>Open when you're overthinking</span>
            </div>
            <div class="letter" id="letter10">
              <div class="letter-content">
                <p>
                  Take a step back. Your mind is running marathons that it
                  doesn’t need to. You don’t need to have it all figured out.
                  I’m here. We’re okay. Everything doesn’t need a solution right
                  now — just love, patience, and presence. You are enough.
                </p>
              </div>
              <button onclick="closeLetter('letter10')">
                <i class="fas fa-times"></i> CLOSE
              </button>
            </div>
          </div>

          <!-- Letter 11 -->
          <div class="envelope">
            <div class="envelope-front">
              <i class="fas fa-birthday-cake"></i>
              <span>Open when it's your birthday</span>
            </div>
            <div class="letter" id="letter11">
              <div class="letter-content">
                <p>
                  Happy birthday, my favorite human. I wish I could be there to
                  celebrate with cake, kisses, and cuddles. Instead, you get all
                  my love wrapped in words. I’m so glad you were born — because
                  the world got you, and I got someone to fall for. I hope this
                  day brings you joy and hope for the year ahead.
                </p>
              </div>
              <button onclick="closeLetter('letter11')">
                <i class="fas fa-times"></i> CLOSE
              </button>
            </div>
          </div>

          <!-- Letter 12 -->
          <div class="envelope">
            <div class="envelope-front">
              <i class="fas fa-fire-alt"></i>
              <span>Open when you need to know how much I love you</span>
            </div>
            <div class="letter" id="letter12">
              <div class="letter-content">
                <p>
                  I love you in the little moments — the sleepy texts, the
                  laughs, the silences. I love you in the big ways — across time
                  zones, through missing you, even when it hurts. You are my
                  favorite person and the one I keep holding on for. No distance
                  can shrink what I feel for you.
                </p>
              </div>
              <button onclick="closeLetter('letter12')">
                <i class="fas fa-times"></i> CLOSE
              </button>
            </div>
          </div>
        </div>
      </section>

      <!-- Playlist Section -->
      <section class="section playlist-section" id="playlist">
        <div class="floating-music">
          <!-- Music notes will be added by JavaScript -->
        </div>
        <div class="playlist-content">
          <div class="playlist-header">
            <h2 class="section-title">OUR LOVE PLAYLIST</h2>
            <p class="board-subtitle">
              Songs that remind me of us and your Kazuya obsession
            </p>
          </div>

          <div class="playlist-container">
            <div class="playlist-text">
              <h3>WHY THIS PLAYLIST?</h3>
              <p>
                I've carefully selected each song to represent different aspects
                of our relationship and our love. From our first conversations
                to the deep connection we share today, every track tells a part
                of our story with a little bit of a twist.
              </p>
              <p>
                When you listen to these songs, I hope you feel the same warmth
                and happiness I feel when I think of you.
              </p>

              <div class="song-list">
                <h4>FEATURED TRACKS:</h4>
                <ul>
                  <li>
                    <i class="fas fa-music"></i> blood sport - sleep token
                  </li>
                  <li><i class="fas fa-music"></i> 3:07 - parting gift</li>
                  <li>
                    <i class="fas fa-music"></i> bring me back to life -
                    evanescence
                  </li>
                  <li>
                    <i class="fas fa-music"></i> open water - blessthefall
                  </li>
                  <li><i class="fas fa-music"></i> haunt me - teen suicide</li>
                  <li>
                    <i class="fas fa-music"></i> the death of peace of mind -
                    bad omens
                  </li>
                  <li>
                    <i class="fas fa-music"></i> would've been you - sombr
                  </li>
                  <li><i class="fas fa-music"></i> every pore - tamino</li>
                </ul>
              </div>
            </div>
            <div class="spotify-embed">
              <iframe
                src="https://open.spotify.com/embed/playlist/2StCvH7CP25prs3NTOVsz4?utm_source=generator&theme=0"
                frameborder="0"
                allowtransparency="true"
                allow="encrypted-media"
              ></iframe>
            </div>
          </div>
        </div>
      </section>

      <!-- Friends Messages Section -->
      <section class="section friends-section" id="friends">
        <h1 class="section-title">MESSAGES FROM YOUR SQUAD</h1>
        <div class="message-board">
          <h2 class="board-title">HAPPY BIRTHDAY!</h2>
          <p class="board-subtitle">
            Your friends wanted to share their love (and roast your Kazuya main)
          </p>

          <div id="contents" class="messages-grid"></div>
        </div>
      </section>
    </div>

    <!-- Navigation -->
    <nav class="page-nav">
      <a href="#cover" class="nav-link active"><i class="fas fa-home"></i></a>
      <a href="#letters" class="nav-link"><i class="fas fa-envelope"></i></a>
      <a href="#playlist" class="nav-link"><i class="fas fa-music"></i></a>
      <a href="#friends" class="nav-link"><i class="fas fa-users"></i></a>
    </nav>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        // Create floating demon energy
        function createEnergy() {
          const energyContainer = document.querySelector(".floating-energy");
          const energyCount = 12;
          const energyTypes = ["fa-bolt", "fa-fire", "fa-star", "fa-circle"];

          for (let i = 0; i < energyCount; i++) {
            const energy = document.createElement("div");
            energy.classList.add("energy");
            const randomEnergy =
              energyTypes[Math.floor(Math.random() * energyTypes.length)];
            energy.innerHTML = `<i class="fas ${randomEnergy}"></i>`;

            // Random position and animation
            energy.style.left = `${Math.random() * 100}%`;
            energy.style.fontSize = `${15 + Math.random() * 25}px`;
            energy.style.animationDuration = `${10 + Math.random() * 15}s`;
            energy.style.animationDelay = `${Math.random() * 5}s`;

            energyContainer.appendChild(energy);
          }
        }

        createEnergy();

        // Create floating music notes
        function createMusicNotes() {
          const musicContainer = document.querySelector(".floating-music");
          const noteCount = 15;
          const noteIcons = [
            "fa-music",
            "fa-headphones",
            "fa-play",
            "fa-compact-disc",
          ];

          for (let i = 0; i < noteCount; i++) {
            const note = document.createElement("div");
            note.classList.add("music-note");
            const randomIcon =
              noteIcons[Math.floor(Math.random() * noteIcons.length)];
            note.innerHTML = `<i class="fas ${randomIcon}"></i>`;

            // Random position and animation
            note.style.left = `${Math.random() * 100}%`;
            note.style.fontSize = `${20 + Math.random() * 30}px`;
            note.style.animationDuration = `${8 + Math.random() * 12}s`;
            note.style.animationDelay = `${Math.random() * 5}s`;

            musicContainer.appendChild(note);
          }
        }

        createMusicNotes();

        // Smooth scroll to next section when button is clicked
        const showMeBtn = document.querySelector(".show-me-btn");
        if (showMeBtn) {
          showMeBtn.addEventListener("click", function () {
            const nextSection = document.querySelector("#letters");
            if (nextSection) {
              window.scrollTo({
                top: nextSection.offsetTop,
                behavior: "smooth",
              });
            }
          });
        }

        // Letter functionality
        function openLetter(letterId) {
          let overlay = document.querySelector(".letter-overlay");
          if (!overlay) {
            overlay = document.createElement("div");
            overlay.className = "letter-overlay";
            document.body.appendChild(overlay);
          }
          overlay.style.display = "block";

          document.querySelectorAll(".letter").forEach((letter) => {
            if (letter.id !== letterId && letter.classList.contains("open")) {
              letter.classList.remove("open");
            }
          });

          const letter = document.getElementById(letterId);
          letter.classList.add("open");

          overlay.onclick = function () {
            closeLetter(letterId);
          };
        }

        function closeLetter(letterId) {
          document.getElementById(letterId).classList.remove("open");
          const overlay = document.querySelector(".letter-overlay");
          if (overlay) {
            overlay.style.display = "none";
          }
        }

        document.querySelectorAll(".envelope").forEach((envelope) => {
          envelope.addEventListener("click", function (e) {
            if (e.target.tagName === "BUTTON" || e.target.closest("button"))
              return;

            const letter = this.querySelector(".letter");
            if (letter) {
              openLetter(letter.id);
            }
          });
        });

        // Image zoom functionality
        const messageImages = document.querySelectorAll(".message-screenshot");
        const imageModal = document.getElementById("imageModal");
        const zoomedImage = document.getElementById("zoomedImage");
        const closeModal = document.querySelector(".close-modal");

        messageImages.forEach((img) => {
          img.addEventListener("click", function () {
            zoomedImage.src = this.src;
            imageModal.style.display = "flex";
          });
        });

        if (closeModal) {
          closeModal.addEventListener("click", function () {
            imageModal.style.display = "none";
          });
        }

        if (imageModal) {
          imageModal.addEventListener("click", function (e) {
            if (e.target === imageModal) {
              imageModal.style.display = "none";
            }
          });
        }

        // Update active nav link
        const sections = document.querySelectorAll(".section");
        const navLinks = document.querySelectorAll(".nav-link");

        function updateActiveNav() {
          let current = "";

          sections.forEach((section) => {
            const sectionTop = section.offsetTop;
            const sectionHeight = section.clientHeight;
            if (window.pageYOffset >= sectionTop - sectionHeight / 3) {
              current = section.getAttribute("id");
            }
          });

          navLinks.forEach((link) => {
            link.classList.remove("active");
            if (link.getAttribute("href") === `#${current}`) {
              link.classList.add("active");
            }
          });
        }

        window.addEventListener("scroll", updateActiveNav);
        updateActiveNav();

        navLinks.forEach((link) => {
          link.addEventListener("click", function (e) {
            e.preventDefault();
            const targetId = this.getAttribute("href");
            const targetSection = document.querySelector(targetId);

            window.scrollTo({
              top: targetSection.offsetTop,
              behavior: "smooth",
            });
          });
        });

        // Music control
        const bgMusic = document.getElementById("bgMusic");
        const musicControl = document.getElementById("musicControl");
        const volumeSlider = document.getElementById("volumeSlider");
        let isPlaying = false;

        if (bgMusic && volumeSlider) {
          bgMusic.volume = volumeSlider.value;

          volumeSlider.addEventListener("input", function () {
            bgMusic.volume = this.value;
            const volumeDown =
              this.parentElement.querySelector(".fa-volume-down");
            const volumeUp = this.parentElement.querySelector(".fa-volume-up");

            if (this.value == 0) {
              volumeDown.className = "fas fa-volume-mute";
              volumeUp.className = "fas fa-volume-mute";
            } else if (this.value < 0.5) {
              volumeDown.className = "fas fa-volume-down";
              volumeUp.className = "fas fa-volume-down";
            } else {
              volumeDown.className = "fas fa-volume-up";
              volumeUp.className = "fas fa-volume-up";
            }
          });

          bgMusic.volume = 0.3;
          const playPromise = bgMusic.play();

          function updatePlayPauseIcon() {
            const icon = musicControl.querySelector("i");
            if (icon) {
              icon.className = isPlaying ? "fas fa-pause" : "fas fa-music";
            }
          }

          if (playPromise !== undefined) {
            playPromise
              .then((_) => {
                isPlaying = true;
                updatePlayPauseIcon();
              })
              .catch((error) => {
                isPlaying = false;
                updatePlayPauseIcon();
              });
          }

          if (musicControl) {
            musicControl.addEventListener("click", function () {
              if (isPlaying) {
                bgMusic.pause();
              } else {
                bgMusic.play();
              }
              isPlaying = !isPlaying;
              updatePlayPauseIcon();
            });
          }
        }

        // Modal close button inside DOMContentLoaded
        const closeMessageBtn = document.querySelector(".close-message-modal");
        if (closeMessageBtn) {
          closeMessageBtn.addEventListener("click", function (e) {
            e.stopPropagation();
            document.getElementById("messageModal").style.display = "none";
          });
        }

        const modalContent = document.querySelector(".message-modal-content");
        if (modalContent) {
          modalContent.addEventListener("click", function (e) {
            e.stopPropagation();
          });
        }

        const messageModal = document.getElementById("messageModal");
        if (messageModal) {
          messageModal.addEventListener("click", function (e) {
            if (e.target === this) {
              this.style.display = "none";
            }
          });
        }
      });
    </script>

    <!-- Message Modal -->
    <div class="message-modal" id="messageModal">
      <div class="message-modal-content">
        <div class="message-modal-header">
          <h3 class="message-modal-from" id="modalFrom">From:</h3>
          <span class="close-message-modal">&times;</span>
        </div>
        <img
          src=""
          alt="Full message"
          class="message-modal-image"
          id="modalImage"
        />
        <div class="message-modal-text" id="modalText"></div>
      </div>
    </div>

    <!-- Message Form Modal -->
    <div
      id="form"
      class="fixed inset-0 z-[1100] bg-[rgba(10,10,18,0.95)] hidden justify-center items-center p-5 box-border"
    >
      <div
        style="
          background-color: #1a1a2e;
          border-radius: 10px;
          max-width: 600px;
          width: 100%;
          padding: 20px;
          box-sizing: border-box;
          color: #e0e0e0;
          font-family: 'Orbitron', sans-serif;
        "
      >
        <h2 style="color: #7d5fff; margin-top: 0; text-align: center">
          Leave a Message for Sif
        </h2>
        <form
          enctype="multipart/form-data"
          id="messageForm"
          style="display: flex; flex-direction: column; gap: 15px"
        >
          {% csrf_token %}
          <label for="senderName">Your Name:</label>
          <input
            type="text"
            id="senderName"
            name="senderName"
            required
            style="
              padding: 8px;
              border-radius: 5px;
              border: 1px solid #2a2a3e;
              background-color: #0a0a12;
              color: #e0e0e0;
              font-family: 'Orbitron', sans-serif;
            "
          />

          <label for="messageText">Message:</label>
          <textarea
            id="messageText"
            name="messageText"
            rows="4"
            required
            style="
              padding: 8px;
              border-radius: 5px;
              border: 1px solid #2a2a3e;
              background-color: #0a0a12;
              color: #e0e0e0;
              font-family: 'Orbitron', sans-serif;
            "
          ></textarea>

          <label for="messageImage">Attach an Image:</label>
          <input
            type="file"
            id="messageImage"
            name="messageImage"
            accept="image/*"
            style="color: #e0e0e0"
          />

          <div
            style="
              display: flex;
              justify-content: space-between;
              margin-top: 10px;
            "
          >
            <button
              type="submit"
              style="
                background-color: #c1121f;
                color: white;
                border: none;
                padding: 10px 20px;
                border-radius: 5px;
                cursor: pointer;
                font-family: 'Orbitron', sans-serif;
                letter-spacing: 1px;
              "
            >
              Send
            </button>
            <button
              type="button"
              onclick="closes()"
              id="cancelMessageBtn"
              style="
                background-color: #2a2a3e;
                color: #aaa;
                border: none;
                padding: 10px 20px;
                border-radius: 5px;
                cursor: pointer;
                font-family: 'Orbitron', sans-serif;
                letter-spacing: 1px;
              "
            >
              Cancel
            </button>
          </div>
        </form>
      </div>
    </div>

    <script>
      const form = document.getElementById("form");
      const opener = document.getElementById("opener");
      const cancelMessageBtn = document.getElementById("cancelMessageBtn");
      const messageForm = document.getElementById("messageForm");

      messageForm.addEventListener("submit", async (e) => {
        e.preventDefault();
        const senderName = document.getElementById("senderName").value.trim();
        const messageText = document.getElementById("messageText").value.trim();
        const messageImage = document.getElementById("messageImage").files[0];
        const csrftoken = document.getElementsByName("csrfmiddlewaretoken")[0]
          .value;
        console.log(csrftoken);
        const content = new FormData();
        content.append("senderName", senderName);
        content.append("messageText", messageText);
        content.append("messageImage", messageImage);
        const sender = await fetch("http://127.0.0.1:8000/add/", {
          method: "POST",
          headers: {
            "X-CSRFToken": csrftoken,
          },
          body: content,
        });
        console.log(await sender.json());
        window.location.reload();
      });

      async function getdata() {
        const response = await fetch("http://127.0.0.1:8000/getitems/");
        const data = await response.json();
        const content = document.getElementById("contents");

        content.innerHTML = "";
        const l = document.createElement("div");
        l.innerHTML = `              <div
                onclick="opens()"
                id="opener"
                class="message-item"
                style="
                  background-color: #1a1a1a;
                  display: flex;
                  justify-content: center;
                  align-items: center;
                  border: 1px solid #333;
                "
                id="leaveMessage"
              >
                <div style="text-align: center; padding: 20px">
                  <i
                    class="fas fa-plus-circle"
                    style="font-size: 2rem; color: #c1121f; margin-bottom: 10px"
                  ></i>
                  <p style="color: #aaa">Leave a message for Sif!</p>
                </div>
              </div>`;

        if (Array.isArray(data)) {
          data.forEach((card) => {
            const cardHTML = `
                      <div class="message-item">
                      <img src="${card.pic}" alt="Image from ${card.name}" class="message-screenshot" />
                      <div class="message-info">
                          <div class="message-from">${card.name}</div>
                          <div class="message-preview">${card.msg}</div>
                      </div>
                      </div>
                  `;

            const wrapper = document.createElement("div");
            wrapper.innerHTML = cardHTML;
            content.appendChild(wrapper.firstElementChild);
          });
        } else {
          content.innerHTML = `<p>${data.error || "No data available"}</p>`;
        }

        content.appendChild(l);
        console.log(data);
      }
      getdata();
      function opens() {
        let form_class = form.classList;
        if (form_class.contains("hidden")) {
          form.classList.add("flex");
          form.classList.remove("hidden");
        } else {
          form.classList.remove("flex");
          form.classList.add("hidden");
        }
      }

      function closes() {
        let form_class = form.classList;
        if (form_class.contains("hidden")) {
          form.classList.add("flex");
          form.classList.remove("hidden");
        } else {
          form.classList.remove("flex");
          form.classList.add("hidden");
        }
      }
    </script>
  </body>
</html>
